let componentsOfWealthUsd = {
  region: [
    "Africa",
    "Africa",
    "Africa",
    "Africa",
    "Africa",
    "Africa",
    "Asia-Pacific",
    "Asia-Pacific",
    "Asia-Pacific",
    "Asia-Pacific",
    "Asia-Pacific",
    "Asia-Pacific",
    "China",
    "China",
    "China",
    "China",
    "China",
    "China",
    "Europe",
    "Europe",
    "Europe",
    "Europe",
    "Europe",
    "Europe",
    "India",
    "India",
    "India",
    "India",
    "India",
    "India",
    "Latin America",
    "Latin America",
    "Latin America",
    "Latin America",
    "Latin America",
    "Latin America",
    "North America",
    "North America",
    "North America",
    "North America",
    "North America",
    "North America",
    "World",
    "World",
    "World",
    "World",
    "World",
    "World",
  ],
  wealthComponent: [
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
    "Financial wealth",
    "Non-financial wealth",
    "Debts",
    "Gross wealth",
    "Net wealth",
    "Net wealth at smoothed exchange rates",
  ],
  y_2000: [
    890, 1304, 201, 2194, 1994, 2134, 19959, 19932, 5781, 39892, 34111, 27909,
    1569, 2740, 62, 4309, 4247, 6754, 35278, 37446, 9835, 72725, 62889, 68674,
    679, 2136, 171, 2815, 2643, 3681, 3839, 6164, 1090, 10003, 8914, 8087,
    160500, 77515, 33081, 238015, 204934, 205747, 20085, 16159, 4856, 36245,
    31389, 31593,
  ],
  y_2005: [
    1571, 1996, 396, 3567, 3171, 2908, 23004, 20941, 5490, 43945, 38456, 34463,
    3561, 5952, 421, 9513, 9092, 14662, 54001, 72915, 17577, 126916, 109339,
    96134, 1275, 4024, 376, 5299, 4924, 6284, 5475, 8538, 1406, 14013, 12606,
    11386, 209060, 125895, 52789, 334955, 282166, 279325, 26340, 24956, 7022,
    51296, 44275, 42750,
  ],
  y_2010: [
    2655, 3598, 697, 6254, 5557, 4384, 30919, 31167, 7760, 62086, 54326, 39913,
    10820, 15634, 1479, 26454, 24975, 30102, 66643, 95837, 24220, 162480,
    138260, 111044, 2412, 7545, 778, 9957, 9179, 8444, 10838, 15853, 3231,
    26691, 23460, 16683, 234218, 108322, 58991, 342540, 283549, 276848, 32803,
    32034, 9002, 64837, 55835, 48991,
  ],
  y_2015: [
    2731, 4282, 582, 7012, 6430, 5781, 27801, 28304, 6702, 56104, 49402, 47231,
    20466, 26660, 3605, 47126, 43521, 45681, 68098, 84786, 21217, 152884,
    131667, 129353, 2542, 9246, 902, 11787, 10885, 11456, 12046, 14847, 3021,
    26893, 23872, 22021, 290724, 120541, 56315, 411265, 354950, 356115, 36885,
    32596, 8474, 69481, 61007, 60621,
  ],
  y_2018: [
    3359, 4127, 596, 7486, 6889, 6845, 31291, 31280, 7555, 62570, 55015, 52120,
    27857, 38493, 5974, 66350, 60376, 64821, 75690, 97969, 23386, 173660,
    150274, 147803, 3146, 12103, 1234, 15249, 14015, 14546, 13164, 16445, 2915,
    29609, 26694, 24083, 321817, 139885, 60614, 461702, 401087, 402392, 41578,
    38510, 9578, 80088, 70510, 70429,
  ],
  y_2019: [
    3746, 4560, 636, 8306, 7670, 7116, 33023, 32590, 7751, 65613, 57862, 54947,
    30202, 40366, 6673, 70568, 63894, 69032, 80925, 101399, 23696, 182324,
    158628, 156805, 3345, 12997, 1353, 16341, 14988, 15530, 13678, 17116, 3083,
    30795, 27712, 24746, 362055, 146718, 62359, 508773, 446414, 446406, 45163,
    40034, 9888, 85197, 75308, 75275,
  ],
  y_2020: [
    3836, 4853, 627, 8689, 8062, 7562, 35699, 34744, 8521, 70443, 61922, 57409,
    33102, 41874, 8127, 74976, 66849, 68134, 92566, 112873, 26322, 205439,
    179117, 166173, 3692, 11785, 1385, 15476, 14091, 14473, 13128, 15551, 2871,
    28679, 25808, 25017, 396171, 157780, 64790, 553951, 489161, 488693, 49338,
    42227, 10735, 91565, 80830, 78483,
  ],
  y_2021: [
    4001, 5084, 627, 9086, 8459, 8459, 35844, 36350, 8500, 72195, 63694, 63694,
    38784, 47953, 9342, 86737, 77395, 77395, 93994, 115162, 25786, 209156,
    183370, 183370, 3796, 13653, 1406, 17448, 16043, 16043, 14016, 16977, 2974,
    30993, 28018, 28018, 444101, 186733, 69506, 630834, 561328, 561328, 53126,
    45917, 11127, 99042, 87916, 87916,
  ],
  y_2022: [
    3971, 4995, 621, 8966, 8345, 9396, 33030, 36200, 8076, 69231, 61154, 67028,
    38503, 46272, 9044, 84775, 75731, 85234, 84308, 117855, 24984, 202163,
    177179, 188928, 3769, 14153, 1423, 17923, 16500, 18048, 15602, 20536, 3378,
    36138, 32760, 31143, 401210, 202985, 72369, 604195, 531826, 533620, 48903,
    46815, 11000, 95718, 84718, 89745,
  ],
};

function everyNth(array, nth, base) {
  if (
    !Array.isArray(array) ||
    array.length === 0 ||
    !Number.isInteger(nth) ||
    nth <= 0 ||
    !Number.isInteger(base) ||
    base <= 0
  ) {
    return [];
  }
  const result = [];
  let startIndex = nth - 1;
  for (let i = startIndex; i < array.length; i += base) {
    result.push(array[i]);
  }
  return result;
}

function getAnnualComponentDataUSD(wealthDistribution, region) {
  const regionIndices = wealthDistribution.region.reduce(
    (indices, currentRegion, index) => {
      if (currentRegion === region) {
        indices.push(index);
      }
      return indices;
    },
    []
  );

  if (regionIndices.length === 0) {
    console.error(`Region '${region}' not found in the data.`);
    return null;
  }

  const distributionData = {};

  const years = [2000, 2005, 2010, 2015, 2018, 2019, 2020, 2021, 2022];

  for (const year of years) {
    const yearKey = `y_${year}`;
    distributionData[yearKey] = [];

    for (const regionIndex of regionIndices) {
      if (
        wealthDistribution[yearKey] &&
        wealthDistribution[yearKey][regionIndex] !== undefined
      ) {
        const value = wealthDistribution[yearKey][regionIndex];
        distributionData[yearKey].push(value);
      } else {
        console.warn(`Data not available for '${region}' in year ${year}.`);
      }
    }
  }

  return distributionData;
}

function getRegionalComponentArrayUSD(data, year) {
  return data[`y_${year}`];
}

// console.log(getAnnualComponentDataUSD(componentsOfWealthUsd, "Africa"));
// console.log(
//   getRegionalComponentArrayUSD(
//     getAnnualComponentDataUSD(componentsOfWealthUsd, "Africa"),
//     "2000"
//   )
// );

// console.log(everyNth(componentsOfWealthUsd.region, 1, 6));
